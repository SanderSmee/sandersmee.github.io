<!DOCTYPE html><html lang="en"><head><meta charset="utf-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0"><meta name="author" content="Sander Smeman"><meta name="robots" content="all"><title>Plantuml labels like swagger-ui</title><meta name="description" content="It&amp;#8217;s great to have Asciidoc labels like swagger-ui in the documentation, but would it be possible to extend this even further?
In asciidoc documentation I also use Plantuml diagrams, e.g. to illustrate the sequence of interaction between microser..."><meta name="keywords" content="asciidoc,swagger-ui,plantuml"><link rel="dns-prefetch" href="//fonts.googleapis.com"><link rel="dns-prefetch" href="//stackpath.bootstrapcdn.com"><link rel="dns-prefetch" href="//use.fontawesome.com"><link rel="dns-prefetch" href="//cdnjs.cloudflare.com"><script>if ('serviceWorker' in navigator) {
    window.addEventListener('load', function() {
        navigator.serviceWorker.register('/sw.js').then(function(registration) {
            // Registration was successful
            console.log('ServiceWorker registration successful with scope: ', registration.scope);
        }, function(err) {
            // registration failed :(
            console.log('ServiceWorker registration failed: ', err);
        });
    });
}
</script><link rel="alternate" type="application/rss+xml" title="thoughts.toString();" href="/atom.xml"><link rel="stylesheet" href="//use.fontawesome.com/releases/v5.6.3/css/all.css" integrity="sha384-UHRtZLI+pbxtHCWp1t77Bi1L4ZtiqrqD80Kn4Z8NTSRyMA2Fd33n5dQ8lWUE00s/" crossorigin="anonymous"><link rel="stylesheet" href="//fonts.googleapis.com/css?family=Encode+Sans:400,800|IBM+Plex+Serif:400,400i,700,700i&amp;display=swap"><link rel="stylesheet" href="/css/style.css?v=1"><link rel="stylesheet" href="//cdnjs.cloudflare.com/ajax/libs/highlight.js/9.13.1/styles/vs2015.min.css"><script>if (window.location.hostname !== 'localhost' && window.location.hostname !== '127.0.0.1') {
    (function (i, s, o, g, r, a, m) {
        i['GoogleAnalyticsObject'] = r;
        i[r] = i[r] || function () {
            (i[r].q = i[r].q || []).push(arguments)
        }, i[r].l = 1 * new Date();
        a = s.createElement(o),
            m = s.getElementsByTagName(o)[0];
        a.async = 1;
        a.src = g;
        m.parentNode.insertBefore(a, m)
    })(window, document, 'script', '//www.google-analytics.com/analytics.js', 'ga');
    ga('create', 'UA-8287349-4', 'auto');
    ga('send', 'pageview');
}</script></head><body><nav class="navbar navbar-custom fixed-top navbar-expand-md"><a class="navbar-brand" href="/"><span>thoughts.toString();</span></a><button class="navbar-toggler" type="button" data-toggle="collapse" data-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="true" aria-label="Toggle navigation"><span class="navbar-toggler-icon"></span></button><div class="collapse navbar-collapse" id="navbarSupportedContent"><ul class="navbar-nav ml-auto"><li class="nav-item"><a class="nav-link" href="/about">About</a></li><li class="nav-item"><a class="nav-link" href="/archives">Archive</a></li><li class="nav-item"><a class="nav-link" href="https://github.com/SanderSmee/sandersmee.github.io" target="_blank" rel="noopener">Github</a></li></ul></div></nav><header class="header-section"><div class="intro-header" style="background-image: url(//source.unsplash.com/dC6Pb2JdAqs);"><div class="container"><div class="row justify-content-center"><div class="col-lg-10 col-12"><div class="post-heading"><a class="category" href="/category/Documentation/">Documentation</a><h1>Plantuml labels like swagger-ui</h1><div class="post-meta"><ul class="list-inline"><li class="list-inline-item"><time datetime="2018-09-15T22:00:00.000Z" itemprop="datePublished">2018-09-15</time></li><li class="list-inline-item">2 minutes read</li></ul></div></div></div></div></div></div></header><main class="container"><div class="row justify-content-center"><div class="col-lg-10 col-12"><article class="blog-post" role="main"><p>It&#8217;s great to have <a href="../asciidoc-swagger">Asciidoc labels like swagger-ui</a> in the documentation, but would it be possible to extend this even further?
In asciidoc documentation I also use <a href="http://plantuml.com/" target="_blank" rel="noopener">Plantuml</a> diagrams, e.g. to illustrate the sequence of interaction between microservices.
Is it possible to label those interactions like swagger-ui, just as I now can in asciidoc?</p>
<a id="more"></a>
<p>In Plantuml it&#8217;s possible to declare macros.
I created a reusable macro for a message in a sequence diagram, that has a note next to it.
By giving the note a stereotype it can have custom styling in the diagram, and can look like a label.</p>
<figure class="listing-block"><figcaption>Listing 1. plantuml diagram</figcaption>
<pre class="highlightjs highlight"><code class="language-plantuml" data-lang="plantuml">@startuml
!definelong Request(verb, msg, desc)
msg : desc
rnote &lt;&lt;verb&gt;&gt;&lt;&lt;HTTP&gt;&gt; left color
""verb""
end note
!enddefinelong

!define GET(msg, desc) Request(" GET ", msg, desc)
!define POST(msg, desc) Request(" POST ", msg, desc)
!define PUT(msg, desc) Request(" PUT ", msg, desc)

actor User
User --&gt; Browser : click resource
GET(Browser --&gt; Resource, /path/to/resource)
Browser &lt;-- Resource : response
POST(Browser -&gt; Resource, '""JSON"" new Resource')
note right
  more note to
  this message
end note
User &lt;-- Browser : display resource
@enduml</code></pre></figure>
<p>To give the note a style resembling a label I used the following styling.
First some generic styling for each label, based on the <code><a href="#HTTP">[HTTP]</a></code> stereotype.
Specific styling for a verb goes through its own <code><a href="#verb">[verb]</a></code> stereotype.</p>
<figure class="listing-block"><figcaption>Listing 2. plantuml styling</figcaption>
<pre class="highlightjs highlight"><code class="language-plantuml" data-lang="plantuml">skinparam note&lt;&lt;HTTP&gt;&gt; {
  textAlignment center
  backgroundColor #darkgrey
  borderColor transparent
  fontName monospaced
  fontColor #fff
  shadowing false
}
skinparam noteBackgroundColor&lt;&lt;GET&gt;&gt; #61affe
skinparam noteBackgroundColor&lt;&lt;POST&gt;&gt; #49cc90
skinparam noteBackgroundColor&lt;&lt;PUT&gt;&gt; #fca130
skinparam noteBackgroundColor&lt;&lt;DELETE&gt;&gt; #f93e3e
skinparam noteBackgroundColor&lt;&lt;HEAD&gt;&gt; #9012fe
skinparam noteBackgroundColor&lt;&lt;OPTIONS&gt;&gt; #0d5aa7
skinparam noteBackgroundColor&lt;&lt;PATCH&gt;&gt; #50e3c2</code></pre></figure>
<p>The following results in this diagram:</p>
<figure class="image-block"><img src="/images/plantuml-httplabels.png" alt="Plantuml with httplabels">
<figcaption>Figure 1. diagram with labels for HTTP verbs like swagger</figcaption></figure>
<div class="quote-block"><blockquote><p>Written with Plantuml 1.2018.10</p></blockquote></div></article><nav class="pagination justify-content-center" role="pagination"><li class="next page-item"><a class="float-left page-link" href="/easily-build-your-own-tech-radar/">&larr; Next post</a></li><li class="previous page-item"><a class="float-right page-link" href="/asciidoc-swagger/">Previous post &rarr;</a></li></nav></div></div></main><footer class="site-footer container-fluid"><div class="row justify-content-center"><div class="col-10"><div class="row"><section class="col-lg-4"><h5>thoughts.toString(); Â© 2019</h5><p><em>"My thoughts.toString(); For you to explore"</em></p><p>This work is licensed under a <a rel="license noopener" href="http://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank"><img alt="Creative Commons License" style="border-width:0" src="https://i.creativecommons.org/l/by-nc-sa/4.0/80x15.png" /></a>
</p></section><section class="col-lg-4"><h5 class="marked">Recent articles</h5><div class="recent-posts"><ul class="post-list"><li class="post-list-item"><a class="post-list-link" href="/custom-attributes-in-spring-restdocs/">Custom, optional attributes in spring-restdocs</a></li><li class="post-list-item"><a class="post-list-link" href="/testable-architecture/">Testable architecture</a></li><li class="post-list-item"><a class="post-list-link" href="/reduce-code-noise-ratio-maven-poms/">Reduce the code to noise ratio of maven POMs</a></li></ul></div></section><section class="col-lg-4"><h5 class="marked">Stay connected</h5><div class="social-links"><ul class="list-inline"><li class="list-inline-item"><a href="/atom.xml" title="RSS" onclick="window.open(this.href);return false;"><span class="fas fa-rss"></span></a></li><li class="list-inline-item"><a href="https://twitter.com/osusso" target="_blank" rel="noopener" title="Twitter" onclick="window.open(this.href);return false;"><span class="fab fa-twitter"></span></a></li><li class="list-inline-item"><a href="https://github.com/sandersmee/sandersmee.github.io" target="_blank" rel="noopener" title="Github" onclick="window.open(this.href);return false;"><span class="fab fa-github"></span></a></li><li class="list-inline-item"><a href="mailto:sander.smeman@gmail.com" target="_blank" rel="noopener" title="mail" onclick="window.open(this.href);return false;"><span class="fas fa-envelope"></span></a></li><li class="list-inline-item"><a href="https://www.linkedin.com/in/sandersmeman/" target="_blank" rel="noopener" title="linkedin" onclick="window.open(this.href);return false;"><span class="fab fa-linkedin"></span></a></li></ul></div></section></div></div></div></footer><script src="//code.jquery.com/jquery-3.3.1.slim.min.js" integrity="sha384-q8i/X+965DzO0rT7abK41JStQIAqVgRVzpbzo5smXKp4YfRvH+8abtTE1Pi6jizo" crossorigin="anonymous"></script><script src="//cdnjs.cloudflare.com/ajax/libs/popper.js/1.14.7/umd/popper.min.js" integrity="sha384-UO2eT0CpHqdSJQ6hJty5KVphtPhzWj9WO1clHTMGa3JDZwrnQq4sF86dIHNDz0W1" crossorigin="anonymous"></script><script src="https://stackpath.bootstrapcdn.com/bootstrap/4.3.1/js/bootstrap.min.js" integrity="sha384-JjSmVgyd0p3pXB1rRibZUAYoIIy6OrQ6VrjIEaFf/nJGzIxFDsf4x0xIM+B07jRM" crossorigin="anonymous"></script><script src="/js/highlight.pack.js"></script><script>hljs.initHighlightingOnLoad();</script></body></html>